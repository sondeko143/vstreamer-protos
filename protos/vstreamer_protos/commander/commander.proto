syntax = "proto3";

package voicerecog;
option go_package = "github.com/sondeko143/vstreamer-protos/go";

service Commander {
    rpc process_command (Command) returns (Response) {}
    rpc sync_process_command (Command) returns (Response) {}
}

enum Operation {
    TRANSCRIBE = 0;
    TRANSLATE = 1;
    SUBTITLE = 2;
    SUBTITLE_TRANSLATED = 3;
    TTS = 4;
    VC = 5;
    PLAYBACK = 6;
    PAUSE = 7;
    RESUME = 8;
    RELOAD = 9;
    SET_FILTERS = 10;
}

message Command {
    repeated OperationChain chains = 1;
    Sound sound = 2;
    string text = 3;
    string file_path = 4;
    repeated string filters = 5;
}

message Sound {
    bytes data = 1;
    int32 rate = 2;
    int32 format = 3;
    int32 channels = 4;
}

message OperationChain {
    repeated OperationRoute operations = 1;
}

message OperationRoute {
    Operation operation = 1;
    string remote = 2;
}

message Response {
    bool result = 1;
}

