syntax = "proto3";

package voicerecog;
option go_package = "github.com/sondeko143/vstreamer-protos/go";

service Commander {
    rpc process_command (Command) returns (Response) {}
    rpc sync_process_command (Command) returns (Response) {}
}

enum Operation {
    TRANSCRIBE = 0;
    TRANSLATE = 1;
    SUBTITLE = 2;
    SUBTITLE_TRANSLATED = 3;
    TTS = 4;
    VC = 5;
    PLAYBACK = 6;
    PAUSE = 7;
    RESUME = 8;
    RELOAD = 9;
    SET_FILTERS = 10;
    PING = 11;
}

message Command {
    repeated OperationChain chains = 1;
    Operand operand = 2;
}

message Operand {
    Sound sound = 1;
    string text = 2;
    string file_path = 3;
    repeated string filters = 4;
}

message Sound {
    bytes data = 1;
    uint32 rate = 2;
    int32 format = 3;
    int32 channels = 4;
}

message OperationChain {
    repeated OperationRoute operations = 1;
}

message OperationRoute {
    Operation operation = 1;
    string remote = 2;
    Queries queries = 3;
}

message Queries {
    string target_language_code = 1;
    string source_language_code = 2;
}

message Response {
    bool result = 1;
}

